<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href=index.css>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <title>Bewerk</title>
    <script src="dropbox_api.js"></script>
    <script src="edit_betaling.js"></script>
  </head>
  <body class="vbox-stretch">
    <div class="hbox">
        <div>
            <label for="payer">betaald door:</label><br>
            <div style="white-space: nowrap;">
              <button onclick="betaaldDoorFien()" id="betaald-fien" class="toggle-button-left toggle-button-selected" disabled>Fien</button><button onclick="betaaldDoorDante()" id="betaald-dante" class="toggle-button-right">Dante</button>
              <script>
                let betaald_door = "Fien"
                function betaaldDoorFien() {
                  document.getElementById("betaald-dante").classList.toggle('toggle-button-selected');
                  document.getElementById("betaald-fien").classList.toggle('toggle-button-selected');
                  document.getElementById("betaald-fien").disabled = true;
                  document.getElementById("betaald-dante").disabled = false;
                  betaald_door = "Fien"
                }
                function betaaldDoorDante() {
                  document.getElementById("betaald-dante").classList.toggle('toggle-button-selected');
                  document.getElementById("betaald-fien").classList.toggle('toggle-button-selected');
                  document.getElementById("betaald-fien").disabled = false;
                  document.getElementById("betaald-dante").disabled = true;
                  betaald_door = "Dante"
                }
              </script>
            </div>
        </div>
        <div>
            <label for="amount">Bedrag:</label>
            <div class="hbox">
              <input style="width: 1rem;" id="amount-euro" value="€" disabled>
              <input id="amount" style="width: 4rem;">
            </div>
        </div>
    </div>
    <div>
      <label for="description">omschrijving:</label>
      <input class="vstretch" id="description" value="">
    </div>
    <div>
      <label for="pay-time">Datum:</label>
      <input class="vstretch" type="datetime-local" id="pay-time" name="pay-time" value="" format="DD/MM/YYYY hh:mm">
    </div>
    <div>
      <label for="category">Categorie:</label>
      <select class="vstretch" name="category" id="category">
        <option value="geen-categorie">Geen categorie</option>
        <option value="winkel">Winkel</option>
        <option value="eten">Eten</option>
        <option value="ontspanning">Ontspanning</option>
        <option value="huur">Huur</option>
        <option style='font-weight:bolder;' value="terugbetaling">Terugbetaling</option>
        <option value="overige">Overige</option>
      </select>
    </div>
    <div>
      <label for="comment">Opmerkingen:</label>
      <input class="vstretch" id="comment" value="">
    </div>
    <div class="hbox">
      <button id="save-button" onclick="savePayment()">Oké</button>
      <button id="del-button" onclick="delPayment()">Verwijder</button>
      <button onclick="location.href='overzicht.html'">Annuleer</button>
    </div>
  <script>
    function dateToString(date) {
      let y = date.getFullYear()
      let m = date.getMonth()+1
      if (m < 10) m = "0"+m
      let d = date.getDate()
      if (d < 10) d = "0"+d
      let t = date.toTimeString().slice(0,5)
      return y+"-"+m+"-"+d+"T"+t
    }

    let now = new Date()
    let now_str = dateToString(now)
    document.getElementById("pay-time").value = now_str
  </script>
  </body>

</html>
